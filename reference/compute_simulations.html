<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute simulated variables by running the model wrapper and applying the required transformations. — compute_simulations • CroptimizR</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute simulated variables by running the model wrapper and applying the required transformations. — compute_simulations"><meta property="og:description" content="Compute simulated variables by running the model wrapper and applying
the required transformations."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">CroptimizR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/CroptimizR.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Available_parameter_estimation_algorithms.html">Available parameter estimation algorithms in CroptimizR</a>
    </li>
    <li>
      <a href="../articles/Designing_a_model_wrapper.html">Guidelines for implementing a crop model R wrapper for CroptimizR</a>
    </li>
    <li>
      <a href="../articles/Parameter_estimation_simple_case.html">Parameter estimation with CroptimizR: a simple case using the STICS crop Model</a>
    </li>
    <li>
      <a href="../articles/Parameter_selection.html">Parameter selection with CroptimizR</a>
    </li>
    <li>
      <a href="../articles/AgMIP_Calibration_Protocol.html">Calibrating a complex crop model using the AgMIP protocol</a>
    </li>
    <li>
      <a href="../articles/Parameter_estimation_Specific_and_Varietal.html">Parameter estimation with CroptimizR: a case with specific and varietal parameters</a>
    </li>
    <li>
      <a href="../articles/ApsimX_parameter_estimation_simple_case.html">Parameter estimation with CroptimizR: a simple case using the ApsimX crop Model</a>
    </li>
    <li>
      <a href="../articles/Parameter_estimation_DREAM.html">Parameter estimation with the DREAM-zs algorithm</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SticsRPacks/CroptimizR/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute simulated variables by running the model wrapper and applying the required transformations.</h1>
    <small class="dont-index">Source: <a href="https://github.com/SticsRPacks/CroptimizR/blob/main/R/compute_simulations.R" class="external-link"><code>R/compute_simulations.R</code></a></small>
    <div class="hidden name"><code>compute_simulations.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute simulated variables by running the model wrapper and applying
the required transformations.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">compute_simulations</span><span class="op">(</span></span>
<span>  <span class="va">model_function</span>,</span>
<span>  <span class="va">model_options</span>,</span>
<span>  <span class="va">param_values</span>,</span>
<span>  <span class="va">situation</span>,</span>
<span>  <span class="va">var_to_simulate</span>,</span>
<span>  <span class="va">obs_list</span>,</span>
<span>  transform_sim <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  transform_var <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  sit_var_dates_mask <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-model-function">model_function<a class="anchor" aria-label="anchor" href="#arg-model-function"></a></dt>
<dd><p>Crop Model wrapper function to use.</p></dd>


<dt id="arg-model-options">model_options<a class="anchor" aria-label="anchor" href="#arg-model-options"></a></dt>
<dd><p>List of options for the Crop Model wrapper (see help of
the Crop Model wrapper function used).</p></dd>


<dt id="arg-param-values">param_values<a class="anchor" aria-label="anchor" href="#arg-param-values"></a></dt>
<dd><p>Named vector or tibble, value(s) of the parameters to
pass to the model wrapper</p></dd>


<dt id="arg-situation">situation<a class="anchor" aria-label="anchor" href="#arg-situation"></a></dt>
<dd><p>(optional) List of situations to take into account within obs_list.
situation = NULL means that all situations in obs_list will be used.</p></dd>


<dt id="arg-var-to-simulate">var_to_simulate<a class="anchor" aria-label="anchor" href="#arg-var-to-simulate"></a></dt>
<dd><p>(optional) List of variables for which the model wrapper must return
results.
By default the wrapper is asked to simulate only the observed variables. However,
it may be useful to simulate also other variables, typically when transform_sim
and/or transform_obs functions are used. Note however that it is
active only if the model_function used handles this argument.</p></dd>


<dt id="arg-obs-list">obs_list<a class="anchor" aria-label="anchor" href="#arg-obs-list"></a></dt>
<dd><p>List of observed values to use for parameter estimation.
A <code>named list</code> (names = situations names) of data.frame containing
one column named Date with the dates (Date or POSIXct format) of the different observations
and one column per observed variables with either the measured values or NA, if
the variable is not observed at the given date.
See details section for more information on the list of observations actually
used during the parameter estimation procedure.</p></dd>


<dt id="arg-transform-sim">transform_sim<a class="anchor" aria-label="anchor" href="#arg-transform-sim"></a></dt>
<dd><p>User function for transforming simulations before each criterion
evaluation  (optional), see details section for more information.</p></dd>


<dt id="arg-transform-var">transform_var<a class="anchor" aria-label="anchor" href="#arg-transform-var"></a></dt>
<dd><p>Named vector of functions to apply both on simulated and
observed variables. <code>transform_var=c(var1=log, var2=sqrt)</code> will for example
apply log-transformation on simulated and observed values of variable var1,
and square-root transformation on values of variable var2.</p></dd>


<dt id="arg-sit-var-dates-mask">sit_var_dates_mask<a class="anchor" aria-label="anchor" href="#arg-sit-var-dates-mask"></a></dt>
<dd><p>List of situations: a named list
containing a mask for variables and dates for which simulated values
should be returned. Typically a list containing the observations to which
simulations should be compared.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list containing the model outputs and transformed results, in the cropr_simulation format.
Returns NA if an error occurs during the simulations.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Samuel Buis, Patrice Lecharpentier, Remi Vezy, Michel Giner.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

      </footer></div>






  </body></html>

